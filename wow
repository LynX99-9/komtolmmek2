local TeleportService = game:GetService("TeleportService")
local HttpService = game:GetService("HttpService")
local Players = game:GetService("Players")

local player = Players.LocalPlayer
local placeId = game.PlaceId

local function serverHop()
    local servers = {}
    local cursor = ""

    repeat
        local url = "https://games.roblox.com/v1/games/" .. placeId ..
            "/servers/Public?sortOrder=Asc&limit=100" ..
            (cursor ~= "" and "&cursor=" .. cursor or "")

        local data = HttpService:JSONDecode(game:HttpGet(url))

        for _, server in ipairs(data.data) do
            if server.playing < server.maxPlayers then
                table.insert(servers, server.id)
            end
        end

        cursor = data.nextPageCursor
    until not cursor or #servers > 0

    if #servers > 0 then
        TeleportService:TeleportToPlaceInstance(placeId, servers[math.random(#servers)], player)
    else
        warn("Tidak ada server kosong ditemukan")
    end
end

serverHop()
